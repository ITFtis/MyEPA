@model IEnumerable<MyEPA.Models.ResourcesReportTownModel>
@using MyEPA.Enums;
@{
    ViewBag.Title = "資源通報-鄉鎮";
    Layout = "~/Views/_Layout.cshtml";
}
    <p>
        @Html.ActionLink("返回上一頁", "Index", new {  }, new { @class = "btn btn-success" })
    </p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Town)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.UserCount)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.VehicleCount)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DisinfectorCount)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DisinfectantSolidAmount)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DisinfectantLiquidAmount)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PestCount)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DumpCount)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ToiletCount)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.VolunteerCount)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.OwnerName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.OwnerMobilePhone)
        </th>
        <td bgcolor="#fff8d7">
            <h5>最新更新時間</h5>
        </td>
        <td bgcolor="#fff8d7">
            <h5>最新確認時間</h5>
        </td>
    </tr>

@foreach (var item in Model) {
<tr>
    <td>
        @Html.DisplayFor(modelItem => item.Town)
    </td>
    <td>
        @Html.ActionLink(item.UserCount.ToString(), "Search", "Users", new { item.TownId, item.CityId }, new { })
    </td>
    <td>
        @Html.ActionLink(item.VehicleCount.ToString(), "Search", "Vehicle", new { TownIds = item.TownId, CityIds = item.CityId }, new { })
    </td>
    <td>
        @Html.ActionLink(item.DisinfectorCount.ToString(), "Search", "Disinfector", new { TownIds = item.TownId, CityIds = item.CityId }, new { })
    </td>
    <td>
        @Html.ActionLink(item.DisinfectantSolidAmount.ToString(), "Search", "Disinfectant", new { TownIds = item.TownId, CityIds = item.CityId, DrugState = DrugStateEnum.Solid }, new { })
    </td>
    <td>

        @Html.ActionLink(item.DisinfectantLiquidAmount.ToString(), "Search", "Disinfectant", new { TownIds = item.TownId, CityIds = item.CityId, DrugState = DrugStateEnum.Liquid }, new { })
    </td>
    <td>
        @Html.ActionLink(item.PestCount.ToString(), "Search", "Pest", new { TownIds = item.TownId, CityIds = item.CityId }, new { })
    </td>
    <td>
        @Html.ActionLink(item.DumpCount.ToString(), "Search", "Dump", new { TownIds = item.TownId, CityIds = item.CityId }, new { })
    </td>
    <td>
        @Html.ActionLink(item.ToiletCount.ToString(), "Search", "Toilet", new { TownIds = item.TownId, CityIds = item.CityId }, new { })
    </td>
    <td>
        @Html.ActionLink(item.VolunteerCount.ToString(), "Search", "Volunteer", new { TownIds = item.TownId, CityIds = item.CityId }, new { })
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.OwnerName)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.OwnerMobilePhone)
    </td>
    <td>
        @(item.UpdateTime.HasValue ? item.UpdateTime.Value.ToString("yyyy/MM/dd HH:mm") : string.Empty)
    </td>
    <td>
        @(item.ConfirmTime.HasValue ? item.ConfirmTime.Value.ToString("yyyy/MM/dd HH:mm") : string.Empty)
    </td>
</tr>
}

</table>

@model MyEPA.Models.RecResourceModel
@using MyEPA.Models

@{
    ViewBag.Title = "各縣市資源調度 - 新增";
    Layout = "~/Views/_Layout.cshtml";

    string diasterName = ViewBag.DiasterName;
    int type = ViewBag.Type;
    int diasterId = ViewBag.DiasterId;
    List<CityModel> Citys = ViewBag.Citys;

    ////垃圾場
    //List<SelectListItem> landfills = ViewBag.Landfills;
    ////焚化廠
    //List<SelectListItem> incinerators = ViewBag.Incinerators;
    //List<FileDataModel> files = ViewBag.Files;
    //List<FileDataModel> images = ViewBag.Images;
}

<h3>新增資源調度</h3>

@section styles{
    <link rel="stylesheet" href="~/Content/flatpickr.css">
    <link rel="stylesheet" href="~/Content/confirmDate.css">
}

<div class="form-horizontal">
    <hr />

    <div class="form-group">
        <div class="col-md-6">
            災害名稱：@diasterName
        </div>
    </div>

    @*@Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.Id)*@
    @using (Html.BeginForm("Create", "RecResource", FormMethod.Post, new { @enctype = "multipart/form-data" }))
    {
        <div class="form-group">
            @Html.LabelFor(model => model.CityId, htmlAttributes: new { @class = "control-label col-md-1" })
            <div class="col-md-6">
                @*@Html.EditorFor(model => model.CityId, new { htmlAttributes = new { @class = "form-control" } })*@

                @Html.HiddenFor(model => model.DiasterId, new { @Value = diasterId })
                @Html.HiddenFor(model => model.Type, new { @Value = type })
                <select id="CityId" name="CityId">
                    @foreach (var item in Citys)
                    {
                        <option value="@item.Id">@item.City</option>
                    }
                </select>
                @*@Html.ValidationMessageFor(model => model.CityId, "", new { @class = "text-danger" })*@
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.Reason, htmlAttributes: new { @class = "control-label col-md-1" })
            <div class="col-md-6">
                @Html.EditorFor(model => model.Reason, new { htmlAttributes = new { @class = "form-control" } })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.ContactPerson, htmlAttributes: new { @class = "control-label col-md-1" })
            <div class="col-md-6">
                @Html.EditorFor(model => model.ContactPerson, new { htmlAttributes = new { @class = "form-control" } })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.Items, htmlAttributes: new { @class = "control-label col-md-1" })
            <div class="col-md-6">
                @Html.EditorFor(model => model.Items, new { htmlAttributes = new { @class = "form-control" } })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.Spec, htmlAttributes: new { @class = "control-label col-md-1" })
            <div class="col-md-6">
                @Html.EditorFor(model => model.Spec, new { htmlAttributes = new { @class = "form-control" } })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.Quantity, htmlAttributes: new { @class = "control-label col-md-1" })
            <div class="col-md-6">
                @Html.EditorFor(model => model.Quantity, new { htmlAttributes = new { @class = "form-control" } })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.Unit, htmlAttributes: new { @class = "control-label col-md-1" })
            <div class="col-md-6">
                @Html.EditorFor(model => model.Unit, new { htmlAttributes = new { @class = "form-control" } })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.USDate, htmlAttributes: new { @class = "control-label col-md-1" })
            <div class="col-md-6">
                @Html.EditorFor(model => model.USDate, new { htmlAttributes = new { @class = "form-control flatpickr flatpickr-input", @placeholder = "使用時間(迄)" } })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.UEDate, htmlAttributes: new { @class = "control-label col-md-1" })
            <div class="col-md-6">
                @Html.EditorFor(model => model.UEDate, new { htmlAttributes = new { @class = "form-control flatpickr flatpickr-input", @placeholder = "使用時間(迄)" } })
            </div>
        </div>
        <hr>
        <input type="submit" value="確認送出" class="btn align-center" />
        <a href="@Url.Action("Index")">
            <div class="btn align-center">取消</div>
        </a>
        <br>
    }
</div>

@section scripts{    
    <script src="~/Scripts/confirmDate.js"></script>
    <script src="~/Scripts/flatpickr.js"></script>
}


@{
    Layout = "~/Views/_Layout.cshtml";
}

<div class="text-center">
    <br />
    <h5>聯絡人資料維護</h5>
    <br />
</div>
<div id="SearchArea">

    <font size="3">
        @using (Html.BeginForm("Search2", "CleanerxUser"))
        {
        <div class="text-center text-primary">

            <span>機關名稱(縣市)：</span>
            @ViewBag.City
            <br />
            <span>單位名稱(鄉鎮市區)：</span>
            @ViewBag.Town
            <br />

            <span>人員類別：</span> @Html.DropDownList("SearchHumanType", new List<SelectListItem>
{
new SelectListItem{Text = "不限",Value = "ALL",Selected=true},
new SelectListItem{Text = "災情通報人員",Value = "災情通報人員"},
new SelectListItem{Text = "飲用水緊急應變小組連絡人員",Value = "飲用水緊急應變小組連絡人員"},
new SelectListItem{Text = "災害防救緊急應變連絡人員",Value = "災害防救緊急應變連絡人員"},
new SelectListItem{Text = "中央專責及進駐人員",Value = "中央專責及進駐人員"},
new SelectListItem{Text = "署內進駐人員",Value = "署內進駐人員"},
new SelectListItem{Text = "車輛機具連絡人員",Value = "車輛機具連絡人員"}
})
            <br />
            <span>
                是否為該單位主要聯絡人：
            </span>
            @Html.DropDownList("SearchMainContacter", new List<SelectListItem>
    {
    new SelectListItem{Text = "不限",Value = "ALL",Selected=true},
    new SelectListItem{Text = "是",Value = "是"},
    new SelectListItem{Text = "否",Value = "否"}
     })
            <br />
            <input type="submit" class="btn btn-info" value="查詢" />
        </div>

        }
    </font>
</div>
<div id="EditArea" style="display:none;text-align:center">

    @using (Html.BeginForm("Update", "CleanerxUser"))
    {


        <table class="table table-bordered table-striped  text-center">
            <tr>
                <td colspan="2" align="center" bgcolor="#fffcec">
                    基本資料
                </td>
            </tr>

            <tr>
                <td>姓名</td>
                <td>@Html.TextBox("EditingName", "", new { })</td>
            </tr>

            <tr>
                <td>帳號</td>
                <td>@Html.TextBox("EditingId", "", new { @readonly = "readonly" })</td>
            </tr>

            <tr>
                <td>密碼</td>
                <td>@Html.TextBox("EditingPwd", "")</td>
            </tr>
            <tr>
                <td>語音密碼</td>
                <td>@Html.TextBox("EditingVoicePwd", "")</td>
            </tr>

            <tr>
                <td>角色</td>
                <td>@Html.TextBox("EditingDuty", "", new { @readonly = "readonly" })</td>
            </tr>

            <tr>
                <td>機關名稱(縣市)</td>
                <td>@Html.TextBox("EditingCity", "", new { @readonly = "readonly" })</td>
            </tr>


            <tr>
                <td>單位名稱(鄉鎮市區)</td>
                <td>@Html.TextBox("EditingTown", "", new { @readonly = "readonly" })</td>
            </tr>
            <tr>
                <td>人員類別</td>
                <td>
                    @Html.DropDownList("EditingHumanType", new List<SelectListItem>
                {
                 new SelectListItem{Text = "請選擇",Value = "未填",Selected=true},
                new SelectListItem{Text = "災情通報人員",Value = "災情通報人員"},
                new SelectListItem{Text = "飲用水緊急應變小組連絡人員",Value = "飲用水緊急應變小組連絡人員"},
                new SelectListItem{Text = "災害防救緊急應變連絡人員",Value = "災害防救緊急應變連絡人員"},
                new SelectListItem{Text = "中央專責及進駐人員",Value = "中央專責及進駐人員"},
                new SelectListItem{Text = "署內進駐人員",Value = "署內進駐人員"},
                new SelectListItem{Text = "車輛機具連絡人員",Value = "車輛機具連絡人員"}
                })
                </td>
            </tr>

            <tr>
                <td colspan="2" align="center" bgcolor="#fffcec">
                    聯絡資料
                </td>
            </tr>

            <tr>
                <td>行動電話</td>
                <td>@Html.TextBox("EditingMobilePhone")</td>
            </tr>

            <tr>
                <td colspan="2" align="center" bgcolor="#fffcec">
                    權級資料
                </td>
            </tr>
            <tr>
                <td>是否為該單位主要聯絡</td>
                <td>
                    @Html.DropDownList("EditingMainContacter", new List<SelectListItem>
            {
            new SelectListItem{Text = "請選擇",Value = "未填",Selected=true},
            new SelectListItem{Text = "是",Value = "是"},
            new SelectListItem{Text = "否",Value = "否"}
            })
                </td>
            </tr>
            <tr>
                <td>通報優先順序</td>
                <td>
                    @Html.DropDownList("EditingReportPriority", new List<SelectListItem>
        {

        new SelectListItem{Text = "不限", Value = "不限",Selected=true},
        new SelectListItem{Text = "0",Value = "0"},
        new SelectListItem{Text = "1",Value = "1"},
        new SelectListItem{Text = "2",Value = "2"},
        new SelectListItem{Text = "3",Value = "3"},
        new SelectListItem{Text = "4",Value = "4"},
        new SelectListItem{Text = "5",Value = "5"},
        new SelectListItem{Text = "6",Value = "6"},
        new SelectListItem{Text = "7",Value = "7"},
        new SelectListItem{Text = "8",Value = "8"},
        new SelectListItem{Text = "9",Value = "9"},
        new SelectListItem{Text = "10",Value = "10"}
        })
                </td>
            </tr>


            <tr>
                <td colspan="2">
                    @Html.ActionLink("取消", "B7x3", "EPBxUser", "", new { @class = "btn fa fa-arrow-circle-left", @style = "color:white;padding:4px" })
                    <input type="submit" class="btn btn-primary" style="margin:10px" value="確認儲存" />
                    <br />

                </td>
            </tr>
        </table>
    }
    <hr /><hr />
</div>

<div id="DeleteArea" style="display:none;text-align:center">
    @using (Html.BeginForm("Delete", "CleanerxUser"))
    {
        <br />
        <span style="color:black">帳號</span>
        @Html.TextBox("DeleteName", "", new { @readonly = "readonly", style = "width:100px;color:black;border:none;" })
        <br />
        @Html.ActionLink("取消", "C5x1", "CleanerxUser", "", new { @class = "btn fa fa-arrow-circle-left", @style = "color:white;padding:4px" })

        <input type="submit" class="btn btn-warning" style="margin:5px;padding:5px" value="確定刪除" />
        <br /><span class="text-warning">刪除後無法回復</span>
        <br />

        //以下寬度設為0，使其無法出現，這些資料只是讓 EPAxUser/Delete抓去後續處理
        @Html.TextBox("DeleteId", "", new { @readonly = "readonly", style = "width:0px;color:red;border:none;" })
        @Html.TextBox("DeleteDuty", "", new { @readonly = "readonly", style = "width:0px;color:red;border:none;" })
        @Html.TextBox("DeleteCity", "", new { @readonly = "readonly", style = "width:0px;color:red;border:none;" })

        <br />

    }
    <br />
</div>

<br />
@{Html.RenderPartial("~/Views/Components/ShowUserForCleaner.cshtml");}
<script>

    function PickItemForDelete(k, Name, Duty, City) {
        $("#DeleteArea").show();
        $("#EditArea").hide();
        $("#SearchArea").hide();
        $("#AddArea").hide();
        $("#DeleteId").val(k);
        $("#DeleteName").val(Name);
        $("#DeleteDuty").val(Duty);
        $("#DeleteCity").val(City);
    }

    function PickItemForEdit(k, Name, City, Town, MobilePhone, HumanType, MainContacter, ReportPriority, Duty, Pwd, VoicePwd) {
        $("#EditArea").show();
        $("#DeleteArea").hide();
        $("#SearchArea").hide();
        $("#AddArea").hide();
        $("#EditingId").val(k);
        $("#EditingName").val(Name);
        $("#EditingCity").val(City);

        $("#EditingTown").val(Town);
        $("#EditingMobilePhone").val(MobilePhone);
        $("#EditingHumanType").val(HumanType);
        $("#EditingMainContacter").val(MainContacter);
        $("#EditingReportPriority").val(ReportPriority);
        $("#EditingDuty").val(Duty);
        $("#EditingPwd").val(Pwd);
        $("#EditingVoicePwd").val(VoicePwd);
    }

</script>
